async function initBlocker(){try{let e=document.querySelector("script[data-key][data-blocked-page]");if(!e)return;let t=e.getAttribute("data-key"),r=e.getAttribute("data-blocked-page"),o=await fetchIpAddress(),a=navigator.userAgent,c=encodeURIComponent(window.location.pathname+window.location.search),i=await fetchCounterData(t,o,a,c);i?.data?.block_access&&redirectToBlockedPage(r)}catch(n){console.error("Error in initBlocker:",n.message)}}function fetchIpAddress(){return fetch("https://api.ipify.org?format=json").then(e=>{if(!e.ok)throw Error(`HTTP error! Status: ${e.status}`);return e.json()}).then(e=>e.ip).catch(e=>(console.error("Error fetching IP address:",e.message),""))}function fetchCounterData(e,t,r,o){let a=`https://botblocker.pro/api/v1/blocker?ip=${t}&apikey=${e}&ua=${r}&url=${o}`;return window.fetchCounterPromise||(window.fetchCounterPromise=fetch(a,{method:"GET",headers:{"Accept-Encoding":"gzip, deflate"}}).then(e=>{if(!e.ok)throw Error(`HTTP error! Status: ${e.status}`);return e.json()}).catch(e=>{console.error("Error:",e.message)})),window.fetchCounterPromise}function redirectToBlockedPage(e){window.location.replace(e)}initBlocker();